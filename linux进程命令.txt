linux进程命令

用于管理能够使用cron的账号，只需二选一即可
PRI(new)=PRI(old)+Nice
    这只是一个原则
    具体PRI值的变化由CPU决定
linux文件命令
    例行性工作调度
        atq
            列出该用户的所有at调度任务
        atrm 删除调度任务
            删除该用户下的工作号码所指定的at调度任务
        batch 空闲时调度
            CPU空闲时，即工作负载小于 0.8 时，才执行调度的任务
            下达batch 命令后，也会启动 at shell 供下达调度任务
            batch 调度的任务也通过 atq 和 atrm 管理
        crontab 周期性调度
            所需服务
                crond
            配置文件
                /etc/crontab
                    任务语法
                        七个字段
                            分钟
                                0-59
                            小时
                                0-23
                            日期
                                1-31
                            月份
                                1-12
                            星期几
                                0-7
                                    0/7
                                        星期天
                            辅助字符
                                *
                                    任何时间
                                ，
                                    分隔时段
                                        例如，在小时字段中列出 3,6
                                            指 3:00 和 6:00 这两个时间
                                -
                                    时间区间
                                        例如，在小时字段中使用 3-6
                                            指3:00, 4:00,5:00,6:00 这些时间
                                /n
                                    时间间隔
                                        例如，在小时字段中使用/5
                                            指每5小时执行一次指令
                            用户名
                            指令
                /etc/cron.d
                /var/spool/cron
            许可的账户
                1
                    /etc/cron.allow
                        有
                            其中的帐户允许使用 cron
                            不在其中的帐户不允许使用 cron
                        无
                            转到第2步
                        设定允许使用cron的帐户
                2
                    /etc/cron.deny
                        有
                            其中的帐户不允许使用 cron
                            不在其中的帐户允许使用 cron
                        无
                            转到第3步
                        设定不允许使用cron的帐户
                用于管理能够使用cron的账号，只需二选一即可
            任务存放目录
                /etc/spool/cron/username
            cron日志
                /var/log/cron
        at   执行一次就停止调度
            所需服务
                atd
            任务存放目录
                /var/spool/at
            许可的帐户
                1
                    /etc/at.allow
                        有
                            其中的帐户允许使用at
                            不在其中的帐户不允许使用at
                        无
                            转到第2步
                2
                    /etc/at.deny
                        有
                            其中的帐户不允许使用at
                            不在其中的帐户允许使用at
                        无
                            转到第3步
                3
                    /etc/at.allow 和 /etc/at.deny 都不存在时，只有root 可以使用at
    进程
        查看进程
            ps
            top
            free
            pstree
        中止进程
            kill
    进程管理
        任务管理
            英文
                job control
            机制
                环境
                    在单个bash进程中实现多任务
                概念
                    任务
                        把bash命令行下达的命令作为任务
                    前台
                        读取标准输入、输出显示在标准输出，错误信息显示在标准错误上的任务
                        可以使用 ctrl-c 结束前台任务
                    后台
                        与"前台"对应的概念
                            不能读取标准输入
                            输出信息仍会输出到标准输出
                            错误信息仍会输出到标准错误
                            把任务丢到后台时需要重定向标准输出和标准错误
                            不能使用 ctrl-c 结束后台任务
                原理
                    把花费时间较长的任务丢到后台运行
                        后台任务运行完成后会自动退出并返回退出码
                    把需要随时关注的任务放到前台运行
                    通过特定的命令切换前后台任务及终止任务，从而获得管理的便利和灵活性
                时效
                    用户在线，且启动了 bash 终端
            命令
                把任务放到后台运行
                    在bash中下达命令时在最后加上一个 & 字符
                    前台的任务在运行时按下 Ctrl-z
                列出后台中运行的所有任务
                    jobs
                        会列出任务号
                把后台中的任务切换到前台
                    fg %任务号
                        把任务号对应的任务放到前台
                让后台中的任务开始运行
                    bg %任务号
                        让任务号对应的任务开始运行
                通过kill 给后台任务发送信号
                    根据信号不同，所采取的动作也不同
                    语法
                        $ kill -signalnumber %jobnumber
                    信号
                        9
                            强制结束任务
                        15
                            正常终止任务
        运行优先权和CPU调度
            Priority/PRI
                越低优先权越高
                由CPU进行动态调整
                    不能直接手工调整
                    通过调整Nice值影响PRI值
            Nice值
                有正负值
                    正值
                        增加PRI
                    负值
                        降低 PRI
                取值范围
                    root用户
                        -20~19
                            可以调高也可以降低进程的PRI值
                    一般用户
                        0~19
                            只能调高进程的PRI值，不能将其降低
                命令
                    nice
                        开始执行程序时赋予一个Nice值
                        语法
                            nice -n Nice值  command
                    renice
                        调整某个PID的Nice值
                        语法
                            renice -n Nice值 PID
            PRI(new)=PRI(old)+Nice
                这只是一个原则
                具体PRI值的变化由CPU决定
        进程管理
            概念
                程序 program
                    二进制文件
                    存放在外部存储介质中
                    具有可执行权限和其它由用户设置的权限
                    具有其它文件属性
                    一个二进制可执行的磁盘文件
                进程 process
                    具有由系统分配的PID
                    具有执行者的权限和属性
                    程序码和执行所需数据
                    存储在内存中
                    一个运行中的程序
                父进程
                    当进程衍生出另一个进程时，称前者为父进程
                子进程
                    当进程衍生出另一个进程时，称后者为子进程
                        PID
                            子进程的进程ID
                        PPID
                            父进程的进程ID
                父进程衍生子进程的过程
                    fork
                        父进程根据自己复制一个一模一样的暂存进程作为分身，只有PID不同，且暂存进程多一个PPID
                    exec
                        fork出来的暂存进程通过 exec 运行子进程的代码，从而华丽转身成为子进程
                    称为fork-and-exec
                服务/daemon
                    常驻在内存中的进程
                    为系统运行提供服务
            操作
                观察进程
                    ps
                        撷取当前时间点的进程运行情况
                        查阅用户自己的bash之下的进程
                            ps -l
                        查阅系统上的全部进程
                            ps aux
                    top
                        动态观察进程的变化
                    pstree
                        观察进程树
                    kill
                        根据向ID为pid的进程传递信号
                        向名字为name的进程传递信号
            进程优先级
                priority
                nice
            查看系统资源
                free
                    作用
                        观察内存使用情况
                    选项
                        内存单位
                            自定义
                                -b
                                    Bytes
                                -k
                                    KB
                                -m
                                    MB
                                -g
                                    GB
                            系统自动选取
                                -h
                                    可读性较好的单位
                        -t
                            在输出结果的尾部显示实体内存和交换分区的总量
                        -s N
                            每隔N秒钟输出一次
                        -c N
                            free 总共显示N次结果
                uname
                    查阅关于系统与核心的信息
                    选项
                        -a
                            列出所有信息
                        -s
                            系统核心名称
                                如: Linux
                        -r
                            核心版本
                                如: 5.1.3-050103-generic
                        -m
                            硬件名称
                                如: x86_64
                uptime
                    显示系统开机时间和1,5,15分钟的平均负载
                netstat
                    例
                        $ netstat -altunp 
                            -a
                                显示所有socket
                                    默认值为 connected
                            -l
                                显示监听中的 server sockects
                            -t
                                列出tcp 连接
                            -u
                                列出udp连接
                            -n
                                不解析名字，显示数字端口号
                                    如 80
                            -p
                                显示联网程序的PID/程序名
                                    如 firefox
                dmesg
                    核心侦测硬件产生的信息
                        通常管道到less/grep等联用
                vmstat
            进程与文件管理
                fuser
                    作用
                        查看使用某个文件/文件系统的进程
                            因为Linux会把文件系统当作文件处理，所以对于文件/文件系统的操作并无二致
                    语法
                        fuser [-fMuvw] [-a|-s] [-4|-6] [-c|-m|-n SPACE] [-k [-i] [-SIGNAL]] NAME...
                            NAME是文件/文件系统名
                    常用选项
                        -u
                            除了进程的pid之外，还列出进程的拥有者
                        -m
                            列出使用NAME这个名字所在的文件系统或块设备的所有进程
                        -v
                            详细的输出信息
                        -k
                            针对所有找到的进程，发送信号  sigkill ( -9 ) 以终止它们
                                对于不能umount 设备的情况很有用
                        -i
                            杀死进程之前询问用户是否执行该杀死进程的动作
                        -SIGNAL
                            指定 -k 使用的信号，默认为 sigkill (-9)
                lsof
                    作用
                        找出某个进程打开的所有文件
                    常用语法
                        $ lsof -u username | grep processname
                            找出用户username的processname 进程所打开的文件
                pidof
                    作用
                        找出正在运行的某个进程的pid
                    常用语法
                        $ pid processname
设定允许使用cron的帐户
设定不允许使用cron的帐户
辅助字符
    *
        任何时间
    ，
        分隔时段
            例如，在小时字段中列出 3,6
                指 3:00 和 6:00 这两个时间
    -
        时间区间
            例如，在小时字段中使用 3-6
                指3:00, 4:00,5:00,6:00 这些时间
    /n
        时间间隔
            例如，在小时字段中使用/5
                指每5小时执行一次指令
把任务丢到后台时需要重定向标准输出和标准错误
一个运行中的程序
一个二进制可执行的磁盘文件
称为fork-and-exec