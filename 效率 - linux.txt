切换执行等级
    # init run-level
linux的使用技巧
    其他命令
        hash命令 – 显示与清除命令运行时查询的哈希表
        wait命令 – 等待指令
        bc命令 – 浮点运算
        rmmod命令 – 删除模块
        使用cat的方式进行查看并且把代码内容拷贝出来
    编辑器功能
        退回
            cd - 
                切换到上次切换的命令
            Ctrl+r
                查看历史命令
            方向按键
                切换上下命令
            history历史或者时间
                上下历史
                history指令
                ！！执行上条命令
                返回和重做
                    返回上一条
                    返回上多条
                    重做上面上面撤销的那条
                    重做上面重做的多条
        界面
            shell页面的界面
                放大缩小关闭开启
            通过命令进行查询，然后通过
            进行翻页
            clear
        自动补全
            tab
            find命令
                – 查找和搜索文件
            统配符号的使用
        linux 快捷键 emmx
        linux 搜索 emmx
    linux下的效率提升
        系统基本设置
            uname
                显示电脑的信息
            alias/unalias重命名
                作用域
                    全部用户
                        /etc/profile：此文件为系统的每个用户设置环境信息，当用户第一次登录时，该文件被执行
                        /etc/bash.bashrc：此文件为系统的每个用户配置bash Shell的相关信息
                    当前用户
                        ~/.profile：此文件为当前用户设置的自定义环境信息
                        ~/.bashrc：此文件为当前用户配置自定义的bash Shell的相关信息
                进入文本界面
                退出文本界面
            export
                变量代替
                    全局变量
            hostname
                使用hostnamectl指令修改
                    查看主机信息
                        $ hostnamectl
                            自己运行一下查看运行结果
                    设置hostname
                        # hostnamectl set-hostname 主机名
                            修改 /etc/hostname的内容
            daemon系统命令
                服务
                    常驻内存
                    提供系统和网络服务
                daemon
                    老式的init管理机制
                        原理
                            init是系统调用的第一支程序
                            init唤起所有系统服务
                        启动脚本的位置
                            /etc/init.d 目录下
                        管理方式
                            通过服务脚本管理
                                手动模式
                                    启动
                                        init.d/daemon start
                                    停止
                                        init.d/daemon stop
                                    重启
                                        init.d/daemon restart
                                    查看状态
                                        init.d/daemon status
                                    需要手动解决相依性问题
                                划分执行等级，启动自动执行不同的启动脚本
                                    执行等级
                                        0
                                        1
                                            单人维护模式
                                        2
                                        3
                                            纯文本模式
                                        4
                                        5
                                            文字加图形界面
                                        6
                                        切换执行等级
                                            # init run-level
                                    脚本放置的位置
                                        /etc/rc.d/rc[0-6]/SXXdaemon
                                            S
                                                表示启动该服务
                                            XX
                                                数字，表示启动时的顺序，可解决相依性问题
                                        /etc/init.d/daemon
                                        使用chkconfig建立和删除链接
                                            默认启动服务,建立链接
                                                chkconfig daemon on
                                            删除默认启动的服务
                                                chkconfig daemon off
                                            观察默认启动与否
                                                chkconfig --list daemon
                        服务的分类
                            独立启动模式
                                特点
                                    常驻内存
                                        不管需不需要
                                    反应速度快
                            由总管程序启动
                                总管程序
                                    xinetd
                                    inetd
                                特点
                                    需要时启动
                                    不需要时关闭
                                    反应速度比独立模式慢
                    新式的systemd管理机制
                        原理
                            systemd是系统调用的第一支程序
                            systemd唤起所有系统服务
                        优点
                            可以并行启动没有相依性的服务，加快启动速度
                            使用 systemctl 管理所有服务，简化了命令
                            通过编写合适的unit代码，由 systemd 自动管理依赖的服务
                            通过unit文件管理服务
                                unit可分类为
                                    service
                                        最常用的本机服务和网络服务
                                    socket
                                        不太常用的套接字服务
                                    target
                                        一组unit的集合，比如service和socket类型的服务
                                    path
                                        需要特定目录提供的服务
                                    snapshot
                                    timer
                                        需要循环执行的服务
                                    方便管理与记忆
                        管理命令
                            systemctl
                                启动服务
                                    systemctl start service
                                停止服务
                                    systemctl  stop service
                                设置开机启动的服务
                                    systemctl enable service
                                停止开机启动的服务
                                    systemctl disable service
                                查看服务的状态
                                    systemctl status service
                                系统关机
                                    systemctl poweroff
                                系统重启
                                    systemctl reboot
                                暂停系统
                                    systemctl suspend
                                系统休眠
                                    systemctl hibernate
                                救援模式
                                    systemctl rescue
                                紧急救援模式
                                    systemctl emergency
                                systemctl list-*
                                    查看系统上开启的所有服务
                                        systemctl  list-units   --type=TYPE
                                            TYPE可以是
                                                service
                                                    最常用的本机服务和网络服务
                                                socket
                                                    不太常用的套接字服务
                                                target
                                                    一组unit的集合，比如service和socket类型的服务
                                                path
                                                    需要特定目录提供的服务
                                                snapshot
                                                timer
                                                    需要循环执行的服务
                                    依赖性检查
                                        systemctl --list-dependencies [unit] [--reverse]
                                            --list-dependencies
                                                查看该unit依赖的服务
                                            加上 --reverse
                                                查看依赖 unit 的服务
                                    查看系统上的socket file
                                        systemctl list-sockets
                        配置文件
                            配置文件目录
                                /etc/systemd/system
                                    优先级最高
                                    类似于init模式下的/etc/rc.d/rc[0-6].d
                                    自定义的服务应该放在这个目录下
                                    应该修改这个目录下的配置文件
                                        以vsftpd.service为例
                                            在/etc/systemd/system目录下
                                                1. 创建vsftpd.service.d目录
                                                    该目录中放置vsftpd应用程序的额外配置文件，通常以.conf作为文件扩展名
                                                        该文件中配置的属性累加到/usr/lib/systemd/system下的vsftpd应用程序的默认配置上
                                                2. 创建vsftpd.service.wants目录
                                                    启动vsftpd.service后需要启动的服务
                                                3. 创建vsftpd.service.requires目录
                                                    启动vsftdp.service之前需要启动的服务
                                                用于配置依赖性
                                /run/systemd/system
                                    优先级次之
                                /usr/lib/systemd/system
                                    优先级最低
                                    类似于init模式的/etc/init.d
                                    centos安装后各应用软件的默认脚本配置文件
                                /etc/sysconfig/*
                                    几乎所有服务都把初始化的一些选项设置写入这个目录
                                        如
                                            manpages 的初始化设置
                                            网络设置写入
                                                /etc/sysconfig/network-scripts
                                /var/lib
                                    一些产生数据的服务会把数据写入到这个目录中
                                /run/
                                    放置了好多daemon的暂存盘
                                        如lock-file pid-file等
                                systemctl list-sockets
                                    列出监听本机服务需求的socket file的文件位置
                            unit配置文件内容
                                [Unit]
                                    Description
                                        使用  systemctl list-units/ systemctl status 列出的信息
                                    Documentation
                                        本服务的说明文档
                                            Documentation=http://...
                                            Documentation=man:sshd (8)
                                            Documentation=file:/etc/ssh/sshd_config
                                    After
                                        说明本unit跟随在哪些 daemon 之后启动
                                            仅为说明，并非强制
                                    Before
                                        说明本unit在哪些 daemon 之前启动
                                            仅为说明，并非强制
                                    Requires
                                        说明本unit跟随在哪些 daemon 之后启动
                                            说明依赖性，如果 Requires 中指定的 daemon 没有启动，则不会启动本 Unit
                                    Wants
                                        说明本unit在哪些 daemon 之前启动
                                            说明依赖性，如果没有启动本 Unit, 则 Wants 中指定的 daemon 不会启动
                                    Conflicts
                                        说明与本Unit 冲突的服务
                                [Service]、[Socket]、[Timer]、[Mount]、[Path]
                                    根据unit文件的类型有所区别
                                    [Service]
                                        Type
                                            作用
                                                设置dameon 启动的方式
                                            可设置的值
                                                simple
                                                    默认值
                                                    daemon主要由 ExecStart 接的指令串启动，启动后常驻内存
                                                forking
                                                    spawn(fork)一个子进程来启动 daemon，启动后父进程终止
                                [Install]
                                    作用
                                        把这个unit安装到哪个Target 中
                                    参数
                                        WantedBy
                                            主要接 *.target unit
                                            说明本 unit 挂接在哪个 target unit 下
                                        Also
                                            说明启用了本 unit 之后，应该启用什么其他 unit
                                        Alias
                                            当使用 # systemctl enable 服务名 启用一个服务时，在 /etc/system/systemd/目录下所创建的链接别名
                        systemd 管理服务的几个实例
                            1. 以不同的配置启动某个服务
                                1. 修改该服务的配置文件
                                    如 /etc/vsftpd/vsftpd2.conf
                                2. 新建一个服务的 unit  文件
                                    如，新建  /etc/system/systemd/vsftpd2.service
                                        修改 ExecStart 的启动参数
                                3. 使用 systemctl 启动 vsftpd2 服务
                            2. 类似 getty@.service 自动生成多个服务
                                1. 由一个target文件：getty.target 统一管理
                                2. 在 getty.target 的 After 字段中，给出 getty.target 启动之后，将要依次运行的 getty@tty1.service ~ getty@tty6.service 六个 service 文件的文件名
                                3. 在 /etc/systemd/system 目录下查找 getty@tty1.service ~ tty6.service 这六个  service  文件，如果存在，则启动该服务；否则，查找 getty@.service 文件，如果存在的话，把它当作模板，启动对应的服务
                                4. /etc/systemd/logind.conf 这个配置文件中规定了系统默认tty的数目，具体的参数为 NAutoVTs=6
                                5. 临时启动一个  tty 可以使用如下命令: systemctl start getty@tty8.service
                            3. 自己设计一个服务
                                1. 填写好 unit 文件的各个参数和必要的配置文件
                                2. 使用 systemctl 启动服务
                            4. 使用 systemd.timer 服务定时执行任务
                                特点
                                    优点
                                        定时可以精确到毫秒
                                        可以记录日志，供 debug 使用
                                        可以结合 systemd 的服务
                                        可以结合 cgroup 控制资源的使用
                                    缺点
                                        没有 email 通知功能，虽然可以自己写一个
                                        没有 anacron 的随机取样功能
                                必要条件
                                    1. 启用 systemd.timer 服务
                                    2. 你的服务 sname.service 要存在
                                    3. 有一个自己的 sname.timer 服务
                                实例
                                    1. 在 /etc/system/systemd 下创建一个 sname.timer 文件
                                        [timer] 部分
                                            OnActiveSec
                                                timer.target 启动多久后才启动本服务
                                            OnBootSec
                                                开机完成多久后才启动本服务
                                            OnStartupSec
                                                systemd 第一次启动之后多久才启动本服务
                                            OnUnitActiveSec
                                                本sname.timer管理的 sname.service 最后一次启动后，隔多久再启动本服务
                                            OnUnitInactiveSec
                                                本sname.timer管理的 sname.service 最后一次停止后，隔多久再启动本服务
                                            OnCalendar
                                                根据实际时间启动服务
                                                    子主题
                                            Unit
                                                指定 sname.time 启动的服务，通常是使用 sname.service+sname.timer 方式，所以 Unit 参数可以不设置
                                            Persistent
                                                使用OnCalendar 参数时，要不要持续地执行
                                    2. 在 /etc/system/systemd 下创建一个 sname.service 文件
                                    3. 使用 # systemctl enable sname.timer 启动 timer ，则到指定时间时将运行 sname.service
            ulimit
                限制用户使用的系统资源
            设置终端参数
                stty
                set
    终端效率的提升 emmmmmmx
    linux的文本：
        vim+shell+sp 的方式进行编辑
    
    思想
        全部都是文件
            增删改查文件
            执行文件
            想象流程
                查找对应的内容
                然后过滤对应的内容
                中间存储的内容就是
                然后编写新的内容
        linux文件系统的使用就是对于文件的增删改查
        
        