电商业务逻辑
    后台依赖
        订单模块
            订单过期作废
            订单信息的并发问题
            幂等问题 解决用户利用浏览器刷新和回退重复提交订单？
                4.1 修改结算页增加流水号的生成
                    4.1.1  OrderServiceImpl
                    4.2 OrderController中的trade方法中
                    4.3 OrderController中的submitOrder方法中
                4.4 防重令牌 redis+lua脚本防止重复提交攻击

            总结
                redis实现过期作废
        电商通用的业务内容
            订单服务
                订单服务准备
                    nginx中新建目录order
                    放到IDEA-order项目中
                    order/detail中放入【等待付款】的静态资源。index.html重命名为detail.html
                    order/list中放入【订单页】的静态资源。index.html重命名为list.html
                    order/confirm中放入【结算页】的静态资源。index.html重命名为confirm.html
                    order/pay中放入【收银页】的静态资源。index.html重命名为pay.html
                    修改HOSTS，192.168.56.10 order.gulimall.com
                    nginx中已经配置过转发
                    在gateway中新增order路由
                    修改html中的路径/static前缀。比如/static/order/confirm
                    注意一下有的同学在@GetMapping("/memverOrder.html")里的参数没有匹配好，第一个参数可以直接定义为String
                    注意一下看看数据库里用户和订单表的对应情况，你登录该用户才能看到他的订单
                    了解订单的流程
                服务通信数据共享问题
                    编写：未登录的订单登录拦截
                    编写：webconfig
                        异步线程request数据与远程调用cookie的携带
                            1)新线程没有用户数据的问题RequestContextHolder
                            processRequest(request, response);，让每个请求来了都会执行
                    2）问题：远程调用丢失用户信息
                        给容器注入RequestInterceptor从而带上cookie
                    3 问题：线程异步丢失上下文问题
                        开启异步的时候将老请求的RequestContextHolder的数据设置进去
                订单确认页
                    1）订单确认页VO
                    2）订单确认页数据获取
                    3）运费收件信息获取
                1. 搭建订单工程
                    1.1. 基础配置
                    1.2. 统一获取登录信息
                    1.3. 线程池配置
                2. 订单结算页
                    2.1. 数据模型
                    2.2. 远程数据接口
                        2.2.1. 根据用户id查询收货地址
                        2.2.2. 根据用户id查询用户积分
                        2.2.3. 获取登录用户勾选的购物车
                    2.3. 编写feign接口
                    2.4. 完成订单结算页数据查询接口
                    2.5. 测试订单确认页
                3. 订单确认页面联调
                    3.1. 主内容
                        3.1.1. 收件人信息
                        3.1.2. 支付方式
                        3.1.3. 送货清单
                        3.1.4. 积分优惠
                    3.2. 汇总信息
                    3.3. 送货信息
                    3.4. 提交订单
                4. 提交订单
                    4.1. 数据模型
                    4.2. 远程接口
                        4.2.1. 验证库存并锁库存
                        4.2.2. 创建订单接口
                    4.3. 提交订单基本代码实现
                        4.3.1. 下单的基本实现
                        4.3.2. 删除购物车监听器
                        4.3.3. 库存解锁的监听器
                    4.4. 延时队列定时关单
                        4.4.1. 配置延时队列
                        4.4.2. 实现定时关单
                        4.4.3. 定时解锁库存
            支付模块
                支付宝支付
                    1. 支付
                        1.1. 搭建环境
                        1.2. 支付流程
                        1.3. 选择支付方式
                            1.3.1. 根据订单编号查询订单
                            1.3.2. 跳转到支付渠道选择页
                            1.3.3. 页面渲染
                        1.4. 完成支付功能
                            1.4.1. 内网穿透
                            1.4.2. 表、实体类及Mapper接口
                            1.4.3. 整合阿里支付
                            1.4.4. 跳转到支付
                            1.4.5. 异步回调
                                1.4.5.1. 实现异步回调方法
                                1.4.5.2. oms更新订单状态
                                1.4.5.3. wms减库存
                            1.4.6. 同步回调
    后台
        库存模块
        优惠卷模块
    总结
        前端的页面
            首页
                搜索页面
                支付页面
                    订单页面
                个人页面
                    购物车
                sku页面
                    商品详情
            通用的页面内容
                购物指南
                配送方式
                联系方式
                售后服务
        架构
            老版使用zookeeper和dubbo
            新版使用springcloud
        数据库部分
            没有使用外键
        业务展示